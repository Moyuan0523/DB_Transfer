# æ•°æ®åº“è½¬ç§»é¡¹ç›® (MSSQL â†’ MariaDB)

> ä½¿ç”¨ C# å®ç°çš„æ•°æ®åº“è½¬ç§»å·¥å…·ï¼Œç”¨äºå­¦ä¹  C# å¼€å‘å’Œ Clean Code å®è·µ

## ğŸ“‹ é¡¹ç›®ç›®æ ‡

1. âœ… å»ºç«‹ MSSQL æµ‹è¯•æ•°æ®åº“ï¼ˆå·²å®Œæˆï¼‰
2. ğŸš§ ä½¿ç”¨ C# é‡å†™æ•°æ®åº“è½¬ç§»ç¨‹åº
3. ğŸ“ å®è·µ Clean Code å’Œè®¾è®¡æ¨¡å¼
4. âœ… æµ‹è¯•è½¬ç§»åŠŸèƒ½

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„

```
DB_Transfer/
â”œâ”€â”€ docs/                          # æ–‡æ¡£
â”‚   â”œâ”€â”€ roadmap.md                # å­¦ä¹ è·¯çº¿å›¾
â”‚   â””â”€â”€ è³‡æ–™åº«æœŸæœ«å ±å‘Š-D çµ„.pdf   # åŸå§‹è¯¾ç¨‹æŠ¥å‘Š
â”œâ”€â”€ scripts/                       # Python è„šæœ¬
â”‚   â”œâ”€â”€ setup_database.py         # æ•°æ®åº“å»ºç«‹è„šæœ¬
â”‚   â”œâ”€â”€ test_remote_connection_ssh.py  # SSH éš§é“è¿æ¥æµ‹è¯•
â”‚   â””â”€â”€ transform_original.py     # åŸå§‹ Python è½¬ç§»ç¨‹åºï¼ˆå‚è€ƒï¼‰
â”œâ”€â”€ sql/                           # SQL è„šæœ¬
â”‚   â””â”€â”€ setup_database.sql        # æ•°æ®åº“ç»“æ„å’Œæµ‹è¯•æ•°æ®
â”œâ”€â”€ tests/                         # æµ‹è¯•ï¼ˆå¾…å»ºç«‹ï¼‰
â””â”€â”€ src/                           # C# æºä»£ç ï¼ˆå¾…å»ºç«‹ï¼‰
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- **Python**: 3.11+ (Conda ç¯å¢ƒ: `db_transfer`)
- **ODBC Driver**: Microsoft ODBC Driver 18 for SQL Server
- **.NET**: 8.0+ (å¾…å®‰è£…)
- **æ•°æ®åº“**:
  - æº: MSSQL Server 2022 (TestSourceDB)
  - ç›®æ ‡: MariaDB (å¾…å»ºç«‹)

### è¿œç¨‹è¿æ¥è®¾ç½®

ç”±äºé˜²ç«å¢™é™åˆ¶ï¼Œéœ€è¦é€šè¿‡ SSH éš§é“è¿æ¥ï¼š

```bash
# 1. å»ºç«‹ SSH éš§é“ï¼ˆåœ¨åå°è¿è¡Œï¼‰
ssh -f -N -L 1433:localhost:1433 yan@140.116.96.67

# 2. æ¿€æ´» conda ç¯å¢ƒ
conda activate db_transfer

# 3. æµ‹è¯•è¿æ¥
python scripts/test_remote_connection_ssh.py
```

### è¿æ¥ä¿¡æ¯

| é¡¹ç›® | å€¼ |
|------|------|
| **æœåŠ¡å™¨** | 140.116.96.67,1433 (é€šè¿‡ SSH éš§é“) |
| **æ•°æ®åº“** | TestSourceDB |
| **è¡¨æ ¼æ•°** | 5 ä¸ª (Customers, Products, Orders, OrderDetails, Employees) |
| **æµ‹è¯•æ•°æ®** | çº¦ 60 ç¬” |

## ğŸ“š å­¦ä¹ è·¯çº¿

è¯¦è§ [docs/roadmap.md](docs/roadmap.md)

### å½“å‰è¿›åº¦

- [x] é˜¶æ®µä¸€ï¼šç¯å¢ƒå‡†å¤‡ä¸ MSSQL æ•°æ®åº“å»ºç«‹ âœ…
  - [x] å®‰è£… ODBC Driver 18
  - [x] å»ºç«‹ conda ç¯å¢ƒ
  - [x] å»ºç«‹ SSH éš§é“è¿æ¥
  - [x] éªŒè¯æ•°æ®åº“è¿æ¥
- [ ] é˜¶æ®µäºŒï¼šC# ä¸“æ¡ˆæ¶æ„è®¾è®¡ ğŸš§
- [ ] é˜¶æ®µä¸‰ï¼šC# æ ¸å¿ƒåŠŸèƒ½å¼€å‘
- [ ] é˜¶æ®µå››ï¼šClean Code å®è·µ
- [ ] é˜¶æ®µäº”ï¼šæµ‹è¯•ä¸éªŒè¯
- [ ] é˜¶æ®µå…­ï¼šæ–‡æ¡£ä¸éƒ¨ç½²

## ğŸ”§ å¼€å‘å·¥å…·

- **IDE**: Visual Studio 2022 Community (å¾…å®‰è£…)
- **ç‰ˆæœ¬æ§åˆ¶**: Git
- **æ•°æ®åº“ç®¡ç†**:
  - MSSQL: Azure Data Studio
  - MariaDB: HeidiSQL / DBeaver

## ğŸ“– å‚è€ƒèµ„æ–™

- åŸå§‹ Python å®ç°: `scripts/transform_original.py`
- æ•°æ®åº“å»ºç«‹: `sql/setup_database.sql`
- å­¦ä¹ è®¡åˆ’: `docs/roadmap.md`

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

```bash
# SSH éš§é“ç®¡ç†
ssh -f -N -L 1433:localhost:1433 yan@140.116.96.67  # å»ºç«‹éš§é“
ps aux | grep "ssh.*1433" | grep -v grep           # æŸ¥çœ‹éš§é“çŠ¶æ€
pkill -f "ssh.*1433"                                 # å…³é—­éš§é“

# Conda ç¯å¢ƒ
conda activate db_transfer                           # æ¿€æ´»ç¯å¢ƒ
conda deactivate                                     # é€€å‡ºç¯å¢ƒ
conda env list                                       # åˆ—å‡ºæ‰€æœ‰ç¯å¢ƒ

# æµ‹è¯•è¿æ¥
python scripts/test_remote_connection_ssh.py         # Python æµ‹è¯•
```

## ğŸ“ ç¬”è®°

- SSH éš§é“å¿…é¡»ä¿æŒå¼€å¯æ‰èƒ½è®¿é—®æ•°æ®åº“
- æ‰€æœ‰æ•°æ®åº“è¿æ¥ä½¿ç”¨ `localhost,1433`ï¼ˆé€šè¿‡éš§é“ï¼‰
- è®°å¾—åœ¨ `.gitignore` ä¸­æ’é™¤æ•æ„Ÿä¿¡æ¯

## ğŸ‘¨â€ğŸ’» ä½œè€…

Yuan Mo - èµ„æ–™åº“è¯¾ç¨‹ä¸“æ¡ˆ

## ğŸ“… æ—¶é—´çº¿

- **2025-06-17**: å®ŒæˆåŸå§‹ Python å®ç°
- **2026-02-25**: å¼€å§‹ C# é‡å†™é¡¹ç›®
  - å»ºç«‹ MSSQL æ•°æ®åº“
  - é…ç½®è¿œç¨‹è¿æ¥
  - å‡†å¤‡ C# å¼€å‘ç¯å¢ƒ

---

**ä¸‹ä¸€æ­¥**: å®‰è£… Visual Studio å¹¶å»ºç«‹ C# é¡¹ç›®æ¶æ„
